<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Executivo - Impacto GenAI</title>
  <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <style>
    :root {
      /* Cores de Fundo */
      --bg-primary: #0c0e14;
      --bg-secondary: #151823;
      --bg-card: #1e2130;
      --bg-card-hover: #272936;
      
      /* Cores de Destaque */
      --red-bradesco: #ff6666;
      --blue-bradesco: #0033A0;
      --purple-highlight: #7B68EE;
      --cyan-highlight: #00e5ff;
      
      /* Cores de Texto */
      --text-primary: #ffffff;
      --text-secondary: #a3a8c3;
      
      /* Cores de Status */
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ff6666;
      
      /* Cores de Fases */
      --pilot-color: #00e5ff;
      --production-color: #7B68EE;
      --future-color: #0033A0;
      --pre-genai-color: #a3a8c3;
      
      /* Outras cores */
      --border-color: rgba(163, 168, 195, 0.2);
      --card-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
      --card-shadow-hover: 0 20px 40px rgba(0, 0, 0, 0.4);
      --max-width: 1200px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.5;
      padding: 15px;
      background-image: 
        radial-gradient(circle at 10% 20%, rgba(0, 51, 160, 0.15) 0%, rgba(0, 51, 160, 0) 70%),
        radial-gradient(circle at 90% 80%, rgba(204, 0, 0, 0.15) 0%, rgba(204, 0, 0, 0) 70%);
    }

    .dashboard {
      max-width: var(--max-width);
      margin: 0 auto;
      width: 100%;
    }

    /* Cabeçalho */
    .header {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border-color);
    }

    .header-title {
      flex: 1;
      text-align: center;
    }

    .header-title h1 {
      font-size: 22px;
      font-weight: 700;
      background: linear-gradient(135deg, var(--blue-bradesco), var(--purple-highlight), var(--red-bradesco));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .back-button {
      margin-right: 15px;
      background: linear-gradient(135deg, var(--blue-bradesco), var(--purple-highlight));
      color: var(--text-primary);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      cursor: pointer;
      box-shadow: var(--card-shadow);
      transition: all 0.3s ease;
    }

    .back-button:hover {
      transform: translateY(-3px);
      box-shadow: var(--card-shadow-hover);
    }

    /* Seletor de projetos */
    .project-selector {
      display: flex;
      margin-bottom: 20px;
      border-radius: 8px;
      overflow: hidden;
      background-color: var(--bg-secondary);
    }

    .project-tab {
      flex: 1;
      padding: 12px;
      text-align: center;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      transition: all 0.3s ease;
      border-bottom: 3px solid transparent;
    }

    .project-tab.active {
      background-color: var(--bg-card);
      border-bottom: 3px solid var(--purple-highlight);
      color: var(--purple-highlight);
    }

    .project-tab:hover:not(.active) {
      background-color: var(--bg-card-hover);
    }

    /* Timeline compacta */
    .timeline-compact {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: var(--bg-secondary);
      border-radius: 8px;
      padding: 12px 15px;
      margin-bottom: 20px;
    }

    .timeline-phase {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      flex: 1;
    }

    .timeline-dot {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      margin-bottom: 6px;
    }

    .timeline-phase.pre-genai .timeline-dot {
      background-color: var(--pre-genai-color);
    }

    .timeline-phase.pilot .timeline-dot {
      background-color: var(--pilot-color);
    }

    .timeline-phase.production .timeline-dot {
      background-color: var(--production-color);
    }

    .timeline-phase.future .timeline-dot {
      background-color: var(--future-color);
    }

    .timeline-phase.active .timeline-dot {
      transform: scale(1.2);
      box-shadow: 0 0 0 4px rgba(123, 104, 238, 0.3);
    }

    .timeline-label {
      font-size: 11px;
      text-align: center;
      color: var(--text-secondary);
    }

    .timeline-phase.active .timeline-label {
      color: var(--text-primary);
      font-weight: 600;
    }

    .timeline-connector {
      height: 2px;
      background-color: var(--border-color);
      flex: 1;
      margin: 0 5px;
      position: relative;
      top: -10px;
    }

    /* Layout principal de duas colunas */
    .main-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    /* Resultados consolidados */
    .results-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }

    .result-card {
      background-color: var(--bg-card);
      border-radius: 8px;
      padding: 15px;
      text-align: center;
      box-shadow: var(--card-shadow);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .result-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--card-shadow-hover);
    }

    .result-card::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, var(--blue-bradesco), var(--success));
    }

    .result-card.negative::after {
      background: linear-gradient(90deg, var(--blue-bradesco), var(--red-bradesco));
    }

    .result-value {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 8px;
      color: var(--success);
    }

    .result-value.negative {
      color: var(--red-bradesco);
    }

    .result-label {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 5px;
      color: var(--text-primary);
    }

    .result-desc {
      font-size: 11px;
      color: var(--text-secondary);
    }

    /* Painel de KPIs do banco */
    .bank-kpis {
      background-color: var(--bg-card);
      border-radius: 8px;
      padding: 15px;
      box-shadow: var(--card-shadow);
    }

    .section-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 15px;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title i {
      color: var(--blue-bradesco);
    }

    .kpi-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 15px;
    }

    .kpi-table th, .kpi-table td {
      padding: 10px;
      text-align: center;
      border-bottom: 1px solid var(--border-color);
    }

    .kpi-table th {
      font-size: 12px;
      color: var(--text-secondary);
      font-weight: 600;
    }

    .kpi-table td {
      font-size: 14px;
      font-weight: 600;
    }

    .kpi-table .metric-name {
      text-align: left;
      color: var(--text-primary);
    }

    .improved {
      color: var(--success);
    }

    .worsened {
      color: var(--danger);
    }

    .trend-icon {
      margin-left: 5px;
      font-size: 12px;
    }

    .kpi-chart {
      height: 150px;
      background-color: var(--bg-secondary);
      border-radius: 8px;
      padding: 15px;
      position: relative;
    }

    #kpiTrendChart {
      width: 100%;
      height: 100%;
    }

    /* Insights Executivos */
    .insights-section {
      grid-column: 1 / -1;
      margin-top: 20px;
      background-color: var(--bg-card);
      border-radius: 8px;
      padding: 15px;
      box-shadow: var(--card-shadow);
    }

    .insight-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border-color);
    }

    .insight-item:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }

    .insight-icon {
      flex-shrink: 0;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background-color: rgba(245, 158, 11, 0.1);
      color: var(--warning);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
      font-size: 12px;
    }

    .insight-content {
      flex: 1;
    }

    .insight-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text-primary);
    }

    .insight-desc {
      font-size: 12px;
      color: var(--text-secondary);
      line-height: 1.4;
    }

    .insight-item.positive .insight-icon {
      background-color: rgba(16, 185, 129, 0.1);
      color: var(--success);
    }

    .insight-item.negative .insight-icon {
      background-color: rgba(255, 102, 102, 0.1);
      color: var(--danger);
    }

    .insight-item.neutral .insight-icon {
      background-color: rgba(123, 104, 238, 0.1);
      color: var(--purple-highlight);
    }

    /* Painel de impacto GenAI */
    .genai-impact {
      background-color: var(--bg-card);
      border-radius: 8px;
      padding: 15px;
      box-shadow: var(--card-shadow);
    }

    .section-title.genai i {
      color: var(--purple-highlight);
    }

    .promptx-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .promptx-badge {
      background-color: rgba(123, 104, 238, 0.2);
      color: var(--purple-highlight);
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 12px;
      font-weight: 600;
    }

    .interaction-chart {
      background-color: var(--bg-secondary);
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
      height: 120px;
      position: relative;
    }

    .interaction-bars {
      display: flex;
      align-items: flex-end;
      justify-content: space-around;
      height: 80px;
      position: absolute;
      bottom: 10px;
      left: 15px;
      right: 15px;
    }

    .bar-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 40px;
    }

    .bar {
      width: 30px;
      border-radius: 3px 3px 0 0;
      transition: height 1s ease;
    }

    .bar.q1 {
      background-color: var(--pre-genai-color);
      height: 0px;
    }

    .bar.q2 {
      background-color: var(--pilot-color);
      height: 20px;
    }
      .bar.q3 {
      background-color: var(--production-color);
      height: 70px;
    }

    .bar.q4 {
      background-color: var(--future-color);
      height: 0px;
    }

    .bar-label {
      font-size: 10px;
      color: var(--text-secondary);
      margin-top: 5px;
      text-align: center;
    }

    /* Casos de uso */
    .use-cases {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 15px;
    }

    .use-case {
      background-color: var(--bg-secondary);
      border-radius: 8px;
      padding: 12px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .use-case:hover {
      transform: translateY(-3px);
      box-shadow: var(--card-shadow-hover);
      background-color: var(--bg-card-hover);
    }

    .use-case-value {
      font-size: 18px;
      font-weight: 700;
      color: var(--success);
      margin-bottom: 5px;
    }

    .use-case-label {
      font-size: 10px;
      color: var(--text-secondary);
    }

    /* Próximas iniciativas */
    .initiatives {
      background-color: var(--bg-card);
      border-radius: 8px;
      padding: 15px;
      box-shadow: var(--card-shadow);
      margin-bottom: 20px;
    }

    .initiatives-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
    }

    .initiative-card {
      background-color: var(--bg-secondary);
      border-radius: 8px;
          padding: 15px;
      transition: all 0.3s ease;
      border-left: 3px solid var(--purple-highlight);
      height: 100%;
      display: flex;
      flex-direction: column;
    }

   .initiative-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--card-shadow-hover);
      background-color: var(--bg-card-hover);
    }

    .initiative-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      background-color: rgba(123, 104, 238, 0.1);
      color: var(--purple-highlight);
      margin-bottom: 12px;
    }

    .initiative-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    .initiative-desc {
      font-size: 12px;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    /* Rodapé */
    .footer {
      text-align: center;
      color: var(--text-secondary);
      font-size: 11px;
      padding-top: 10px;
      border-top: 1px solid var(--border-color);
    }

    /* Animações */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }

    /* Responsividade */
    @media (max-width: 992px) {
      .main-grid {
        grid-template-columns: 1fr;
      }
      
      .initiatives-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .results-grid,
      .use-cases {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 576px) {
      .results-grid,
      .use-cases,
      .initiatives-grid {
        grid-template-columns: 1fr;
      }
      
      .timeline-compact {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }
      
      .timeline-phase {
        flex-direction: row;
        width: 100%;
        gap: 10px;
      }
      
      .timeline-connector {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <!-- Cabeçalho com botão de voltar à esquerda e título centralizado -->
    <div class="header">
      <a href="https://marianacintra81.github.io/Bradesco-GEN-AI/GenAI%20Hub%20%20Centro%20de%20Inovacao.html" class="back-button">
        <i class="fas fa-arrow-left"></i>
      </a>
      <div class="header-title">
        <h1>Dashboard de Maturidade GenAI - Bradesco</h1>
      </div>
    </div>
    
    <!-- Seletor de projetos -->
    <div class="project-selector">
      <div class="project-tab active" onclick="switchProject('safer', event)">PLATAFORMA SAFER</div>
      <div class="project-tab" onclick="switchProject('sala-core', event)">SALA CORE</div>
      <div class="project-tab" onclick="switchProject('massificado', event)">MASSIFICADO</div>
    </div>
    
    <!-- Timeline compacta -->
    <div class="timeline-compact">
      <div class="timeline-phase pre-genai">
        <div class="timeline-dot"></div>
        <div class="timeline-label">Base<br>Jan-Mar/2025</div>
      </div>
      <div class="timeline-connector"></div>
      <div class="timeline-phase pilot">
        <div class="timeline-dot"></div>
        <div class="timeline-label">Piloto GenAI<br>Abr-Jun/2025</div>
      </div>
      <div class="timeline-connector"></div>
   <div class="timeline-phase production">
  <div class="timeline-dot"></div>
  <div class="timeline-label">Produção GenAI<br>Jul-Set/2025</div>
</div>
      <div class="timeline-connector"></div>
   <div class="timeline-phase future active">
  <div class="timeline-dot"></div>
  <div class="timeline-label">Expansão GenAI<br>Out-Dez/2025</div>
</div>
    </div>
    
    <!-- Resultados consolidados -->
    <div class="results-grid fade-in">
      <div class="result-card">
        <div class="result-value">40.2%</div>
        <div class="result-label">Redução no Lead Time</div>
        <div class="result-desc">De 107 para 64 dias em média</div>
      </div>
      <div class="result-card">
        <div class="result-value">2.6%</div>
        <div class="result-label">Redução em Horas/PF</div>
        <div class="result-desc">De 31 para 30.2 horas por ponto de função</div>
      </div>
      <div class="result-card negative">
        <div class="result-value negative">25.8%</div>
        <div class="result-label">Aumento de Retrabalho</div>
        <div class="result-desc">De 0.62% para 0.78%</div>
      </div>
    </div>
    
    <!-- Layout principal de duas colunas -->
    <div class="main-grid">
      <!-- Painel de KPIs do banco -->
      <div class="bank-kpis fade-in">
        <div class="section-title">
          <i class="fas fa-chart-line"></i> KPIs do Banco - PLATAFORMA SAFER
        </div>
        
        <table class="kpi-table">
          <thead>
            <tr>
              <th>Métrica</th>
              <th>Base<br>(Q1 2025)</th>
              <th>Piloto<br>(Q2 2025)</th>
              <th>Produção<br>(Q3 2025)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="metric-name">Lead Time (dias)</td>
              <td>107</td>
              <td class="improved">92.4 <i class="fas fa-arrow-down trend-icon"></i></td>
              <td class="improved">64 <i class="fas fa-arrow-down trend-icon"></i></td>
            </tr>
            <tr>
              <td class="metric-name">Produtividade (h/PF)</td>
              <td>31</td>
              <td class="worsened">32.3 <i class="fas fa-arrow-up trend-icon"></i></td>
              <td class="improved">30.2 <i class="fas fa-arrow-down trend-icon"></i></td>
            </tr>
            <tr>
              <td class="metric-name">Retrabalho (%)</td>
              <td>0.62</td>
              <td class="improved">0.28 <i class="fas fa-arrow-down trend-icon"></i></td>
              <td class="worsened">0.78 <i class="fas fa-arrow-up trend-icon"></i></td>
            </tr>
          </tbody>
        </table>
        
        <div class="kpi-chart">
          <canvas id="kpiTrendChart"></canvas>
        </div>
      </div>
          <!-- Painel de impacto GenAI -->
      <div class="genai-impact fade-in">
        <div class="section-title genai">
          <i class="fas fa-robot"></i> Impacto GenAI - PromptX
        </div>
        
        <div class="promptx-header">
          <div class="promptx-badge">1449 interações no Q3</div>
        </div>
        
        <div class="interaction-chart">
          <div class="interaction-bars">
            <div class="bar-container">
              <div class="bar q1"></div>
              <div class="bar-label">Q1<br>0</div>
            </div>
            <div class="bar-container">
              <div class="bar q2"></div>
              <div class="bar-label">Q2<br>395</div>
            </div>
            <div class="bar-container">
              <div class="bar q3"></div>
              <div class="bar-label">Q3<br>1449</div>
            </div>
            <div class="bar-container">
              <div class="bar q4"></div>
              <div class="bar-label">Q4<br>-</div>
            </div>
          </div>
        </div>
        
        <div class="section-title genai" style="font-size: 14px;">
          <i class="fas fa-bullseye"></i> Impacto por Caso de Uso - Cenários de Teste
        </div>
        
        <div class="use-cases">
          <div class="use-case">
            <div class="use-case-value">+65%</div>
            <div class="use-case-label">Mais cenários gerados</div>
          </div>
          <div class="use-case">
            <div class="use-case-value">3x</div>
            <div class="use-case-label">Mais rápido na criação</div>
          </div>
          <div class="use-case">
            <div class="use-case-value">95%</div>
            <div class="use-case-label">Precisão nos cenários</div>
          </div>
          <div class="use-case">
            <div class="use-case-value">2x</div>
            <div class="use-case-label">Mais cenários revisados/dia</div>
          </div>
          <div class="use-case">
            <div class="use-case-value">85%</div>
            <div class="use-case-label">Funcionalidades atingidas</div>
          </div>
          <div class="use-case">
            <div class="use-case-value">-45%</div>
            <div class="use-case-label">Redução média do tempo</div>
          </div>
        </div>
      </div>
      
      <!-- Insights Executivos (agora como um card separado que ocupa toda a largura) -->
      <div class="insights-section fade-in">
        <div class="section-title">
          <i class="fas fa-lightbulb" style="color: var(--warning);"></i> Insights Executivos
        </div>
        <div id="projectInsights">
          <!-- Os insights serão inseridos dinamicamente aqui -->
        </div>
      </div>
    </div>
    
    <!-- Rodapé -->
    <div class="footer">
      <p>© 2025 Bradesco - Dashboard de Maturidade GenAI | Última atualização: <span id="data-atualizacao">Outubro/2025</span></p>
    </div>
  </div>
  
  <script>
    // Dados dos projetos
    const projectData = {
      'safer': {
        title: 'PLATAFORMA SAFER',
        leadTime: { base: 107, pilot: 92.4, production: 64 },
        productivity: { base: 31, pilot: 32.3, production: 30.2 },
        rework: { base: 0.62, pilot: 0.28, production: 0.78 },
        interactions: 1449,
        interactionValues: [0, 395, 1449, 0],
        insights: [
          {
            type: 'positive',
            icon: 'fa-chart-line',
            title: 'Redução significativa no Lead Time',
            description: 'A redução de 40.2% no Lead Time indica que a implementação do GenAI está acelerando  o ciclo de desenvolvimento.'
          },
          {
            type: 'negative',
            icon: 'fa-exclamation-triangle',
            title: 'Aumento no índice de retrabalho',
            description: 'O aumento de 25.8% no retrabalho pode estar relacionado à maior cobertura e quantidade de casos de teste gerados pela IA, o que identifica mais pontos de melhoria inicialmente.'
          },
          {
            type: 'neutral',
            icon: 'fa-robot',
            title: 'Alta adoção da ferramenta PromptX',
            description: 'O crescimento de 395 para 1449 interações do Q2 para Q3 indica forte adoção pela equipe.'
          }
        ]
      },
      'sala-core': {
        title: 'SALA CORE',
        leadTime: { base: 168.9, pilot: 146.0, production: 101.0 },
        productivity: { base: 20.1, pilot: 21.0, production: 19.6 },
        rework: { base: 6.78, pilot: 3.06, production: 8.53 },
        interactions: 215,
        interactionValues: [0, 0, 215, 0],
        insights: [
         // SUBSTITUA ESTE BLOCO PELOS NOVOS INSIGHTS PARA SAFER
        {
          type: 'positive',
          icon: 'fa-chart-line',
          title: 'Redução significativa no Lead Time',
          description: 'A redução de 40.2% no Lead Time indica que a implementação do GenAI está acelerando  o ciclo de desenvolvimento.'
        },
        {
          type: 'negative',
          icon: 'fa-exclamation-triangle',
          title: 'Aumento no índice de retrabalho',
          description: 'O aumento de 25.8% no retrabalho pode estar relacionado à maior cobertura e quantidade de casos de teste gerados pela IA, o que identifica mais pontos de melhoria inicialmente.'
        },
        {
          type: 'neutral',
          icon: 'fa-robot',
          title: 'Alta adoção da ferramenta PromptX',
          description: 'O crescimento de 395 para 1449 interações do Q2 para Q3 indica forte adoção pela equipe.'
        }
      ]
    },
    'sala-core': {
      title: 'SALA CORE',
      leadTime: { base: 168.9, pilot: 146.0, production: 101.0 },
      productivity: { base: 20.1, pilot: 21.0, production: 19.6 },
      rework: { base: 6.78, pilot: 3.06, production: 8.53 },
      interactions: 215,
      interactionValues: [0, 0, 215, 0],
      insights: [
        // SUBSTITUA ESTE BLOCO PELOS NOVOS INSIGHTS PARA SALA CORE
        {
          type: 'positive',
          icon: 'fa-chart-line',
          title: 'Redução expressiva no Lead Time',
          description: 'A redução de 40.2% no Lead Time demonstra ganhos significativos de eficiência no ciclo de desenvolvimento da Sala Core.'
        },
        {
          type: 'negative',
          icon: 'fa-exclamation-triangle',
          title: 'Aumento no índice de retrabalho',
          description: 'O aumento no retrabalho pode estar relacionado à maior cobertura dos testes.'
        },
        {
          type: 'neutral',
          icon: 'fa-lightbulb',
          title: 'Oportunidade de expansão',
          description: 'Com base nos resultados positivos de produtividade, recomenda-se expandir o uso de GenAI para outras áreas da Sala Core.'
        }
      ]
    },
    'massificado': {
      title: 'MASSIFICADO',
      leadTime: { base: 190.1, pilot: 164.2, production: 113.7 },
      productivity: { base: 13.5, pilot: 14.1, production: 13.2 },
      rework: { base: 7.41, pilot: 3.35, production: 9.32 },
      interactions: 243,
      interactionValues: [0, 0, 243, 0],
      insights: [
        // SUBSTITUA ESTE BLOCO PELOS NOVOS INSIGHTS PARA MASSIFICADO
        {
          type: 'positive',
          icon: 'fa-chart-line',
          title: 'Melhoria consistente na produtividade',
          description: 'A redução de 2.2% nas horas por ponto de função indica ganhos de eficiência sustentáveis no projeto Massificado.'
        },
        {
          type: 'negative',
          icon: 'fa-exclamation-triangle',
          title: 'Aumento temporário no retrabalho',
          description: 'O aumento no retrabalho é um efeito esperado da maior cobertura de testes (65% mais cenários gerados), o que tende a normalizar conforme o processo amadurece.'
        },
        {
          type: 'neutral',
          icon: 'fa-search',
          title: 'Adoção moderada da ferramenta',
          description: 'Com 243 interações no Q3, há espaço para aumentar a adoção do GenAI entre as equipes do projeto Massificado.'
        }
      ]
    }
  };

    // Função para calcular os valores percentuais para cada projeto
    function calculateProjectResults() {
      for (const project in projectData) {
        const data = projectData[project];
        
        // Calcular redução percentual do Lead Time
        const leadTimeReduction = ((data.leadTime.base - data.leadTime.production) / data.leadTime.base) * 100;
        data.leadTimeReduction = leadTimeReduction.toFixed(1) + '%';
        data.leadTimeDesc = `De ${data.leadTime.base} para ${data.leadTime.production} dias em média`;
        
        // Calcular redução percentual da Produtividade
        const productivityReduction = ((data.productivity.base - data.productivity.production) / data.productivity.base) * 100;
        data.productivityReduction = productivityReduction.toFixed(1) + '%';
        data.productivityDesc = `De ${data.productivity.base} para ${data.productivity.production} horas por ponto de função`;
        
        // Calcular aumento percentual do Retrabalho
        const reworkIncrease = ((data.rework.production - data.rework.base) / data.rework.base) * 100;
        data.reworkIncrease = reworkIncrease.toFixed(1) + '%';
        data.reworkDesc = `De ${data.rework.base}% para ${data.rework.production}%`;
      }
    }

    // Atualizar data no rodapé
    function atualizarDataRodape() {
      const dataAtual = new Date();
      const meses = [
        'Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho',
        'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'
      ];
      const mes = meses[dataAtual.getMonth()];
      const ano = dataAtual.getFullYear();
      const dataFormatada = `${mes}/${ano}`;
      document.getElementById('data-atualizacao').textContent = dataFormatada;
    }
    
    // Função para desenhar o gráfico de tendência dos KPIs
    function drawKpiTrendChart(project) {
      console.log(`Desenhando gráfico para o projeto: ${project}`); // Log para debug
      
      const canvas = document.getElementById('kpiTrendChart');
      if (!canvas || !canvas.getContext) {
        console.error('Canvas não está disponível');
        return;
      }
      
      // Forçar dimensões explícitas para o canvas
      canvas.width = canvas.parentElement.clientWidth || 300;
      canvas.height = canvas.parentElement.clientHeight || 150;
      
      const ctx = canvas.getContext('2d');
      
      // Limpar o canvas completamente
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Dados do projeto selecionado
      const data = projectData[project];
      console.log('Dados do projeto:', data); // Log para debug
      
      // Normalizar os dados para o gráfico (para que caibam no canvas)
      const leadTimeData = [
        1, // Base (100%)
        data.leadTime.pilot / data.leadTime.base, // Piloto (relativo à base)
        data.leadTime.production / data.leadTime.base // Produção (relativo à base)
      ];
      
      const productivityData = [
        1, // Base (100%)
        data.productivity.pilot / data.productivity.base, // Piloto (relativo à base)
        data.productivity.production / data.productivity.base // Produção (relativo à base)
      ];
      
      const reworkData = [
        1, // Base (100%)
        data.rework.pilot / data.rework.base, // Piloto (relativo à base)
        data.rework.production / data.rework.base // Produção (relativo à base)
      ];
      
      console.log('Lead Time Data:', leadTimeData);
      console.log('Productivity Data:', productivityData);
      console.log('Rework Data:', reworkData);
      
      // Configurações do gráfico
      const width = canvas.width;
      const height = canvas.height;
      const padding = 20;
      const chartWidth = width - 2 * padding;
      const chartHeight = height - 2 * padding;
      
      // Pontos X para os trimestres
      const xPoints = [
        padding,
        padding + chartWidth / 2,
        padding + chartWidth
      ];
      
      // Função para converter valor para coordenada Y
      function valueToY(value) {
        // Inverter a escala Y (1 = topo, valores maiores = mais baixo)
        // Limitar valores entre 0.5 e 1.5 para melhor visualização
        const normalizedValue = Math.max(0.5, Math.min(1.5, value));
        const yRatio = 1 - ((normalizedValue - 0.5) / 1);
        return padding + yRatio * chartHeight;
      }
      
      // Desenhar eixos
      ctx.strokeStyle = 'rgba(163, 168, 195, 0.3)';
      ctx.lineWidth = 1;
      
      // Eixo X
      ctx.beginPath();
      ctx.moveTo(padding, height - padding);
      ctx.lineTo(width - padding, height - padding);
      ctx.stroke();
      
      // Eixo Y
      ctx.beginPath();
      ctx.moveTo(padding, padding);
      ctx.lineTo(padding, height - padding);
      ctx.stroke();
      
      // Linhas de grade horizontais
      const gridLines = 3;
      for (let i = 0; i <= gridLines; i++) {
        const y = padding + (i / gridLines) * chartHeight;
        ctx.beginPath();
        ctx.moveTo(padding, y);
        ctx.lineTo(width - padding, y);
        ctx.stroke();
      }
      
      // Rótulos dos trimestres
      ctx.fillStyle = 'rgba(163, 168, 195, 0.7)';
      ctx.font = '10px Segoe UI';
      ctx.textAlign = 'center';
      
      ctx.fillText('Q1', xPoints[0], height - padding + 15);
      ctx.fillText('Q2', xPoints[1], height - padding + 15);
      ctx.fillText('Q3', xPoints[2], height - padding + 15);
      
      // Desenhar linhas para cada métrica
      // Lead Time (azul)
      ctx.strokeStyle = '#00e5ff';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(xPoints[0], valueToY(leadTimeData[0]));
      ctx.lineTo(xPoints[1], valueToY(leadTimeData[1]));
      ctx.lineTo(xPoints[2], valueToY(leadTimeData[2]));
      ctx.stroke();
      
      // Produtividade (roxo)
      ctx.strokeStyle = '#7B68EE';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(xPoints[0], valueToY(productivityData[0]));
      ctx.lineTo(xPoints[1], valueToY(productivityData[1]));
      ctx.lineTo(xPoints[2], valueToY(productivityData[2]));
      ctx.stroke();
      
      // Retrabalho (vermelho)
      ctx.strokeStyle = '#cc0000';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(xPoints[0], valueToY(reworkData[0]));
      ctx.lineTo(xPoints[1], valueToY(reworkData[1]));
      ctx.lineTo(xPoints[2], valueToY(reworkData[2]));
      ctx.stroke();
      
      // Adicionar pontos nos dados
      function drawPoint(x, y, color) {
        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.arc(x, y, 4, 0, Math.PI * 2);
        ctx.fill();
        ctx.strokeStyle = '#151823'; // Cor de fundo
        ctx.lineWidth = 1;
        ctx.stroke();
      }
      
      // Pontos para Lead Time
      for (let i = 0; i < 3; i++) {
        drawPoint(xPoints[i], valueToY(leadTimeData[i]), '#00e5ff');
      }
      
      // Pontos para Produtividade
      for (let i = 0; i < 3; i++) {
        drawPoint(xPoints[i], valueToY(productivityData[i]), '#7B68EE');
      }
      
      // Pontos para Retrabalho
      for (let i = 0; i < 3; i++) {
        drawPoint(xPoints[i], valueToY(reworkData[i]), '#cc0000');
      }
      
      // Legenda
      const legendY = padding + 15;
      const legendSpacing = 70;
      
      // Lead Time
      ctx.fillStyle = '#00e5ff';
      ctx.fillRect(padding, legendY - 6, 10, 2);
      ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
      ctx.font = '10px Segoe UI';
      ctx.textAlign = 'left';
      ctx.fillText('Lead Time', padding + 15, legendY);
      
      // Produtividade
      ctx.fillStyle = '#7B68EE';
      ctx.fillRect(padding + legendSpacing, legendY - 6, 10, 2);
      ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
      ctx.fillText('Produtividade', padding + legendSpacing + 15, legendY);
      
      // Retrabalho
      ctx.fillStyle = '#cc0000';
      ctx.fillRect(padding + 2 * legendSpacing, legendY - 6, 10, 2);
      ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
      ctx.fillText('Retrabalho', padding + 2 * legendSpacing + 15, legendY);
    }
    
    // Função para atualizar os insights
    function updateInsights(project) {
      const insightsContainer = document.getElementById('projectInsights');
      insightsContainer.innerHTML = ''; // Limpar insights anteriores
      
      // Adicionar novos insights
      projectData[project].insights.forEach(insight => {
        const insightElement = document.createElement('div');
        insightElement.className = `insight-item ${insight.type}`;
        
        insightElement.innerHTML = `
          <div class="insight-icon">
            <i class="fas ${insight.icon}"></i>
          </div>
          <div class="insight-content">
            <div class="insight-title">${insight.title}</div>
            <div class="insight-desc">${insight.description}</div>
          </div>
        `;
        
        insightsContainer.appendChild(insightElement);
      });
    }
    
    // Função para alternar entre projetos
    function switchProject(project, event) {
      // Atualizar tabs ativas
      document.querySelectorAll('.project-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Ativar a tab selecionada
      event.currentTarget.classList.add('active');
      
      // Atualizar título da seção de KPIs
      document.querySelector('.bank-kpis .section-title').innerHTML = 
        `<i class="fas fa-chart-line"></i> KPIs do Banco - ${projectData[project].title}`;
      
      // Atualizar tabela de KPIs - usando innerHTML para os elementos com ícones
      document.querySelector('.kpi-table tbody tr:nth-child(1) td:nth-child(2)').textContent = 
        projectData[project].leadTime.base;
      document.querySelector('.kpi-table tbody tr:nth-child(1) td:nth-child(3)').innerHTML = 
        `${projectData[project].leadTime.pilot} <i class="fas fa-arrow-down trend-icon"></i>`;
      document.querySelector('.kpi-table tbody tr:nth-child(1) td:nth-child(4)').innerHTML = 
        `${projectData[project].leadTime.production} <i class="fas fa-arrow-down trend-icon"></i>`;
      
      document.querySelector('.kpi-table tbody tr:nth-child(2) td:nth-child(2)').textContent = 
        projectData[project].productivity.base;
      document.querySelector('.kpi-table tbody tr:nth-child(2) td:nth-child(3)').innerHTML = 
        `${projectData[project].productivity.pilot} <i class="fas fa-arrow-up trend-icon"></i>`;
      document.querySelector('.kpi-table tbody tr:nth-child(2) td:nth-child(4)').innerHTML = 
        `${projectData[project].productivity.production} <i class="fas fa-arrow-down trend-icon"></i>`;
      
      document.querySelector('.kpi-table tbody tr:nth-child(3) td:nth-child(2)').textContent = 
        projectData[project].rework.base;
      document.querySelector('.kpi-table tbody tr:nth-child(3) td:nth-child(3)').innerHTML = 
        `${projectData[project].rework.pilot} <i class="fas fa-arrow-down trend-icon"></i>`;
      document.querySelector('.kpi-table tbody tr:nth-child(3) td:nth-child(4)').innerHTML = 
        `${projectData[project].rework.production} <i class="fas fa-arrow-up trend-icon"></i>`;
      
      // Atualizar badge de interações
      document.querySelector('.promptx-badge').textContent = 
        `${projectData[project].interactions} interações no Q3`;
      
      // Atualizar resultados consolidados - valores e descrições
      document.querySelector('.results-grid .result-card:nth-child(1) .result-value').textContent = 
        projectData[project].leadTimeReduction;
      document.querySelector('.results-grid .result-card:nth-child(1) .result-desc').textContent = 
        projectData[project].leadTimeDesc;
      
      document.querySelector('.results-grid .result-card:nth-child(2) .result-value').textContent = 
        projectData[project].productivityReduction;
      document.querySelector('.results-grid .result-card:nth-child(2) .result-desc').textContent = 
        projectData[project].productivityDesc;
      
      document.querySelector('.results-grid .result-card:nth-child(3) .result-value').textContent = 
        projectData[project].reworkIncrease;
      document.querySelector('.results-grid .result-card:nth-child(3) .result-desc').textContent = 
        projectData[project].reworkDesc;
      
      // Atualizar insights
      updateInsights(project);
      
      // Limpar o canvas existente e redesenhar o gráfico com os novos dados
      const canvas = document.getElementById('kpiTrendChart');
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Forçar um pequeno atraso para garantir que o canvas esteja limpo antes de redesenhar
      setTimeout(() => {
        drawKpiTrendChart(project);
      }, 50);
      
      // Animar barras de interação
      animateInteractionBars(project);
    }
    
    // Função para animar as barras de interação
    function animateInteractionBars(project) {
      const maxHeight = 70; // Altura máxima em pixels
      const maxValue = Math.max(...projectData.safer.interactionValues); // Valor máximo para escala
      
      const values = projectData[project].interactionValues;
      const bars = document.querySelectorAll('.bar');
      
      // Reset heights
      bars.forEach(bar => {
        bar.style.height = '0px';
      });
      
      // Animate with delay
      setTimeout(() => {
        bars[0].style.height = (values[0] / maxValue * maxHeight) + 'px';
        bars[0].style.transition = 'height 0.5s ease';
        
        setTimeout(() => {
          bars[1].style.height = (values[1] / maxValue * maxHeight) + 'px';
          bars[1].style.transition = 'height 0.5s ease';
          
          setTimeout(() => {
            bars[2].style.height = (values[2] / maxValue * maxHeight) + 'px';
            bars[2].style.transition = 'height 0.5s ease';
            
            setTimeout(() => {
              bars[3].style.height = (values[3] / maxValue * maxHeight) + 'px';
              bars[3].style.transition = 'height 0.5s ease';
            }, 100);
          }, 100);
        }, 100);
      }, 100);
      
      // Atualizar os rótulos das barras
      document.querySelectorAll('.bar-label').forEach((label, index) => {
        label.innerHTML = `Q${index+1}<br>${values[index] || '-'}`;
      });
    }
    
   // Função para destacar o indicador de retrabalho
    function highlightReworkIndicator() {
      const reworkCell = document.querySelector('.kpi-table tbody tr:nth-child(3) td:nth-child(4)');
      
      if (reworkCell) {
        reworkCell.style.position = 'relative';
        
        const highlight = document.createElement('div');
        highlight.style.position = 'absolute';
        highlight.style.top = '0';
        highlight.style.left = '0';
        highlight.style.width = '100%';
        highlight.style.height = '100%';
        highlight.style.backgroundColor = 'rgba(204, 0, 0, 0.2)';
        highlight.style.borderRadius = '4px';
        highlight.style.animation = 'fadeOut 2s forwards';
        
        const style = document.createElement('style');
        style.textContent = `
          @keyframes fadeOut {
            0% { opacity: 0.8; }
            100% { opacity: 0; }
          }
        `;
        document.head.appendChild(style);
        
        reworkCell.appendChild(highlight);
        
        setTimeout(() => {
          if (highlight.parentNode === reworkCell) {
            reworkCell.removeChild(highlight);
          }
        }, 2000);
      }
    }
    
    // Função para ajustar o tamanho do canvas quando a janela for redimensionada
    function resizeCanvas() {
      const currentProject = document.querySelector('.project-tab.active').textContent.toLowerCase().replace(/\s+/g, '-');
      drawKpiTrendChart(currentProject);
    }
    
    // Função para criar uma imagem estática do gráfico como fallback
    function createFallbackImage() {
      // Criar um canvas temporário fora da tela
      const tempCanvas = document.createElement('canvas');
      tempCanvas.width = 300;
      tempCanvas.height = 150;
      const tempCtx = tempCanvas.getContext('2d');
      
      // Desenhar um gráfico simples
      tempCtx.fillStyle = '#151823';
      tempCtx.fillRect(0, 0, tempCanvas.width, tempCanvas.height);
      
      // Desenhar linhas de exemplo
      tempCtx.strokeStyle = '#00e5ff';
      tempCtx.lineWidth = 2;
      tempCtx.beginPath();
      tempCtx.moveTo(20, 75);
      tempCtx.lineTo(150, 50);
      tempCtx.lineTo(280, 30);
      tempCtx.stroke();
      
      tempCtx.strokeStyle = '#7B68EE';
      tempCtx.beginPath();
      tempCtx.moveTo(20, 75);
      tempCtx.lineTo(150, 85);
      tempCtx.lineTo(280, 70);
      tempCtx.stroke();
      
      tempCtx.strokeStyle = '#cc0000';
      tempCtx.beginPath();
      tempCtx.moveTo(20, 75);
      tempCtx.lineTo(150, 40);
      tempCtx.lineTo(280, 90);
      tempCtx.stroke();
      
      // Converter para imagem
      const imageUrl = tempCanvas.toDataURL('image/png');
      
      // Substituir o canvas por uma imagem
      const kpiChart = document.querySelector('.kpi-chart');
      const canvas = document.getElementById('kpiTrendChart');
      
      if (kpiChart && canvas) {
        const img = document.createElement('img');
        img.src = imageUrl;
        img.style.width = '100%';
        img.style.height = '100%';
        img.style.borderRadius = '8px';
        
        canvas.style.display = 'none';
        kpiChart.appendChild(img);
        
        // Tentar inicializar o canvas real após um tempo
        setTimeout(() => {
          canvas.style.display = 'block';
          img.style.display = 'none';
          drawKpiTrendChart('safer');
        }, 1000);
      }
    }
    
    // Inicialização quando o DOM estiver carregado
    document.addEventListener('DOMContentLoaded', function() {
      // Calcular resultados para todos os projetos
      calculateProjectResults();
      
      // Atualizar data no rodapé
      atualizarDataRodape();
      
      // Inicializar insights para o projeto padrão (SAFER)
      updateInsights('safer');
      
      // Criar imagem de fallback para o gráfico
      createFallbackImage();
      
      // Garantir que o canvas seja inicializado corretamente
      initializeCanvas();
      
      // Adicionar listener para redimensionamento da janela
      window.addEventListener('resize', resizeCanvas);
    });
    
    // Função para inicializar o canvas com várias tentativas
    function initializeCanvas() {
      // Primeira tentativa imediata
      tryDrawChart();
      
      // Tentativas adicionais com intervalos crescentes
      setTimeout(tryDrawChart, 100);
      setTimeout(tryDrawChart, 300);
      setTimeout(tryDrawChart, 500);
      setTimeout(tryDrawChart, 1000);
      setTimeout(tryDrawChart, 2000);
    }
    
    // Função para tentar desenhar o gráfico
    function tryDrawChart() {
      const canvas = document.getElementById('kpiTrendChart');
      if (canvas && canvas.getContext) {
        console.log('Tentando desenhar o gráfico...');
        
        // Verificar se o canvas tem dimensões válidas
        if (canvas.clientWidth > 0 && canvas.clientHeight > 0) {
          console.log('Canvas tem dimensões válidas, desenhando gráfico...');
          
          // Desenhar o gráfico para o projeto inicial (SAFER)
          drawKpiTrendChart('safer');
          
          // Animar barras de interação para o projeto inicial
          animateInteractionBars('safer');
          
          // Adicionar efeito de destaque para o indicador de retrabalho
          highlightReworkIndicator();
        } else {
          console.log('Canvas não tem dimensões válidas ainda...');
          // Forçar dimensões
          canvas.style.width = '100%';
          canvas.style.height = '150px';
        }
      } else {
        console.log('Canvas ainda não está disponível...');
      }
    }
    
    // Garantir que o gráfico seja desenhado mesmo após o carregamento completo da página
    window.addEventListener('load', function() {
      setTimeout(function() {
        const canvas = document.getElementById('kpiTrendChart');
        if (canvas) {
          // Forçar dimensões explícitas se necessário
          if (canvas.clientWidth === 0) {
            canvas.style.width = '100%';
            canvas.style.height = '150px';
          }
          drawKpiTrendChart('safer');
        }
      }, 200);
    });
  </script>
</body>
</html>
